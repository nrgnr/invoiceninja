var i=Object.defineProperty;var a=(n,t,e)=>t in n?i(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var r=(n,t,e)=>(a(n,typeof t!="symbol"?t+"":t,e),e);import{i as c,w as l}from"./wait-8f4ae121.js";/**
 * Invoice Ninja (https://invoiceninja.com)
 *
 * @link https://github.com/invoiceninja/invoiceninja source repository
 *
 * @copyright Copyright (c) 2021. Invoice Ninja LLC (https://invoiceninja.com)
 *
 * @license https://www.elastic.co/licensing/elastic-license 
 */class d{constructor(t,e){r(this,"setupStripe",()=>{this.stripeConnect?this.stripe=Stripe(this.key,{stripeAccount:this.stripeConnect}):this.stripe=Stripe(this.key);var t={style:{base:{padding:"10px 12px",color:"#32325d",fontSize:"16px","::placeholder":{color:"#aab7c4"}}},clientSecret:document.querySelector("meta[name=pi-client-secret").content};this.elements=this.stripe.elements(t);const e={layout:"accordion"};return this.ideal=this.elements.create("payment",e),this.ideal.mount("#payment-element"),this});r(this,"handle",()=>{document.getElementById("pay-now").addEventListener("click",async t=>{t.preventDefault();let e=document.getElementById("errors");e.textContent="",e.hidden=!0,document.getElementById("pay-now").disabled=!0,document.querySelector("#pay-now > svg").classList.remove("hidden"),document.querySelector("#pay-now > span").classList.add("hidden");const{error:s}=await this.stripe.confirmPayment({elements:this.elements,confirmParams:{return_url:document.querySelector('meta[name="return-url"]').content}});s&&(e.textContent=s.message,e.hidden=!1,document.getElementById("pay-now").disabled=!1,document.querySelector("#pay-now > svg").classList.add("hidden"),document.querySelector("#pay-now > span").classList.remove("hidden"))})});this.key=t,this.errors=document.getElementById("errors"),this.stripeConnect=e}}function o(){var e,s;const n=((e=document.querySelector('meta[name="stripe-publishable-key"]'))==null?void 0:e.content)??"",t=((s=document.querySelector('meta[name="stripe-account-id"]'))==null?void 0:s.content)??"";new d(n,t).setupStripe().handle()}c()?o():l("#stripe-ideal-payment").then(()=>o());
